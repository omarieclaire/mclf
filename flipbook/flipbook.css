

(function () { "use strict"; // Check if PDF_URL is defined if (typeof PDF_URL === "undefined") { console.error("PDF_URL must be defined before loading flipbook.js"); document.getElementById("loading-message").innerHTML = "<div>Configuration error: PDF file not specified.</div>";

pasted


(function () { "use strict"; // Check if PDF_URL is defined if (typeof PDF_URL === "undefined") { console.error("PDF_URL must be defined before loading flipbook.js"); document.getElementById("loading-message").innerHTML = "<div>Configuration error: PDF file not specified.</div>";

pasted


* { margin: 0; padding: 0; box-sizing: border-box; } :root { --page-bg: #f9e3ff2d; --control-bg: rgba(255, 255, 255, 0.95); --control-border: #355C7D; --button-primary: #FF6B9D; --button-hover: #FF8FB3; --text: #2D2D2D; --text-light: #666; --shadow: rgba(

pasted

My flipbook code isn't perfect. 

Rather than little arrow buttons, I want the user to just drag the page (or click on it / touch it) to flip it.

Also, when we go fullscreen, it should be bigger - there's more page for it to take up, it should take that up. 

also, I want the "page flipping" visual effect AS we drag the page. right now it's not happening. 

also, when we get to the last page and flip it, we should start at the beginning again.

also, when we are zoomed in, we should be able to drag the page around to see details

we need to make sure we keep it responsive (working on mobile too)

Show more
6:38 PM

Architected flipbook enhancements: drag navigation, fullscreen expansion, visual flip effects, looping pages, zoom panning.
19s











I'll help you improve your flipbook! Let me create updated versions that address all your requirements.


10 steps

Presented 4 files

Synthesized multiple interactive flipbook enhancements into cohesive solution.

I've completely revamped your flipbook! Here's what I fixed:

✨ Key Improvements
1. Drag-to-Flip (No More Arrows!)

Arrow buttons are completely hidden
Just drag the page corners to flip - Turn.js handles the visual effect as you drag
Corner peel preview on hover (desktop)
Swipe gestures on mobile
2. Bigger in Fullscreen

Reduced padding from 40px → 10px in fullscreen
Pages now fill almost the entire screen
3. Visual Page Flip During Drag

Turn.js shows the page curl animation in real-time as you drag
Adjusted settings: duration: 600ms, acceleration: true, gradients: true
Corner size increased to 120px for easier grabbing
4. Auto-Loop After Last Page

When you flip past the last page, it waits 800ms then automatically goes back to page 1
Perfect for continuous reading
5. Pan When Zoomed

Zoom in using the controls
When zoom > 1, drag anywhere to pan around
Page flipping is disabled while zoomed (prevents conflicts)
Cursor changes to grab/grabbing
Works on both desktop (mouse) and mobile (touch)
6. Stays Responsive

All features work on mobile with touch support
Swipe left/right to turn pages
Tap-to-pan when zoomed on mobile
The files include a working example HTML and detailed README. Just set your PDF_URL and you're good to go!

Flipbook
JS 
Styles
Code · CSS 
Example
Code · HTML 
Readme
Document · MD 





Claude is AI and can make mistakes. Please double-check responses.
Styles · CSS
Copy

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    --page-bg: #f9e3ff2d;
    --control-bg: rgba(255, 255, 255, 0.95);
    --control-border: #355C7D;
    --button-primary: #FF6B9D;
    --button-hover: #FF8FB3;
    --text: #2D2D2D;
    --text-light: #666;
    --shadow: rgba(0, 0, 0, 0.3);
    --highlight: #FFD93D;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
    background: rgb(54, 51, 62);
    color: var(--text);
    overflow: hidden;
    line-height: 1.6;
    height: 100vh;
    width: 100vw;
}

/* Skip link for accessibility */
.skip-link {
    position: absolute;
    top: -40px;
    left: 0;
    background: var(--button-primary);
    color: white;
    padding: 8px 16px;
    text-decoration: none;
    font-weight: bold;
    z-index: 10000;
    border-radius: 4px;
}

.skip-link:focus {
    top: 10px;
    left: 10px;
}

/* Top-right controls container */
.top-right-controls {
    position: fixed;
    top: 16px;
    right: 16px;
    z-index: 2000;
    display: flex;
    gap: 12px;
    align-items: flex-start;
}

/* Info panel (hidden by default) */
.info-panel {
    background: var(--control-bg);
    border: 2px solid var(--control-border);
    border-radius: 12px;
    padding: 16px;
    box-shadow: 0 8px 24px var(--shadow);
    backdrop-filter: blur(10px);
    opacity: 0;
    pointer-events: none;
    transform: translateY(-10px);
    transition: all 0.3s ease;
    min-width: 180px;
}

.info-panel.visible {
    opacity: 1;
    pointer-events: auto;
    transform: translateY(0);
}

.info-panel h3 {
    font-size: 14px;
    font-weight: 600;
    color: var(--button-primary);
    margin-bottom: 12px;
    text-align: center;
}

.zoom-controls {
    display: flex;
    gap: 8px;
    align-items: center;
    justify-content: center;
    margin-bottom: 12px;
    padding-bottom: 12px;
    border-bottom: 1px solid #e0e0e0;
}

.shortcuts-list {
    list-style: none;
    font-size: 13px;
    line-height: 1.8;
}

.shortcuts-list kbd {
    background: #f0f0f0;
    border: 1px solid #ccc;
    border-radius: 3px;
    padding: 2px 6px;
    font-family: monospace;
    font-size: 11px;
}

/* Info button */
.info-btn {
    background: var(--control-bg);
    border: 2px solid var(--control-border);
    width: 44px;
    height: 44px;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    box-shadow: 0 4px 12px var(--shadow);
    transition: all 0.2s ease;
    backdrop-filter: blur(10px);
}

.info-btn:hover {
    transform: scale(1.1);
    background: white;
    box-shadow: 0 6px 20px var(--shadow);
}

.info-btn:active {
    transform: scale(0.95);
}

/* Fullscreen button */
.fullscreen-btn {
    background: var(--control-bg);
    border: 2px solid var(--control-border);
    width: 44px;
    height: 44px;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    box-shadow: 0 4px 12px var(--shadow);
    transition: all 0.2s ease;
    backdrop-filter: blur(10px);
}

.fullscreen-btn:hover {
    transform: scale(1.1);
    background: white;
    box-shadow: 0 6px 20px var(--shadow);
}

.fullscreen-btn:active {
    transform: scale(0.95);
}

/* Page counter - bottom right */
.page-counter {
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 2000;
    font-size: 14px;
    font-weight: 600;
    color: var(--text);
    padding: 10px 16px;
    background: var(--control-bg);
    border-radius: 20px;
    border: 2px solid var(--control-border);
    box-shadow: 0 4px 12px var(--shadow);
    backdrop-filter: blur(10px);
}

/* Main container - MAXIMIZED */
.flipbook-container {
    width: 100vw;
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    padding: 0;
}

/* Fullscreen mode - even more maximized */
body:fullscreen .flipbook-container,
body:-webkit-full-screen .flipbook-container,
body:-moz-full-screen .flipbook-container,
body:-ms-fullscreen .flipbook-container {
    padding: 0;
}

/* Loading state */
.loading {
    background: var(--control-bg);
    border: 3px solid var(--control-border);
    border-radius: 12px;
    padding: 32px;
    text-align: center;
    font-size: 16px;
    box-shadow: 0 8px 24px var(--shadow);
    backdrop-filter: blur(10px);
}

.loading-bar {
    width: 240px;
    height: 8px;
    background: #f0f0f0;
    border-radius: 4px;
    margin: 16px auto 0;
    overflow: hidden;
    position: relative;
}

.loading-bar::after {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    height: 100%;
    width: 40%;
    background: var(--button-primary);
    border-radius: 4px;
    animation: loading 1.5s ease-in-out infinite;
}

@keyframes loading {
    0%, 100% { left: -40%; }
    50% { left: 100%; }
}

/* Book wrapper - MAXIMIZED with pan support */
.book-wrapper {
    position: relative;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0;
    transition: transform 0.1s ease-out;
    transform-origin: center center;
}

#flipbook-container {
    display: flex;
    align-items: center;
    justify-content: center;
    flex: 1;
    height: 100%;
    max-height: 100%;
}

#flipbook {
    background: transparent;
    box-shadow: 0 10px 40px var(--shadow);
    max-width: 100%;
    max-height: 100%;
    user-select: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    cursor: grab;
    touch-action: none; /* Improve touch dragging */
}

#flipbook:active {
    cursor: grabbing;
}

/* Enhanced drag cursor states */
.book-wrapper[style*="scale(1)"] #flipbook {
    cursor: grab;
}

.book-wrapper[style*="scale(1)"] #flipbook:active {
    cursor: grabbing;
}

/* When zoomed, show grab cursor on wrapper */
.book-wrapper[style*="scale"]:not([style*="scale(1)"]) {
    cursor: grab;
}

.book-wrapper[style*="scale"]:not([style*="scale(1)"]):active {
    cursor: grabbing;
}

/* Page styling */
.page {
    background: var(--page-bg);
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.page canvas {
    width: 100%;
    height: 100%;
    display: block;
    object-fit: contain;
    pointer-events: none; /* Allow drag events to pass through */
}

.page-placeholder {
    display: flex;
    align-items: center;
    justify-content: center;
    color: #999;
    font-size: 14px;
    background: #f5f5f5;
}

/* Turn.js enhancements for smooth drag */
.turn-page-wrapper {
    transition: none !important; /* Let Turn.js handle transitions */
}

.turn-page {
    cursor: grab !important;
}

.turn-page:active {
    cursor: grabbing !important;
}

/* Page flip shadow and gradient */
.turn-page-wrapper .turn-page {
    box-shadow: 0 4px 20px rgba(0,0,0,0.3);
}

/* HIDE Navigation arrows - replaced with drag-to-flip */
.nav-arrow {
    display: none !important;
}

/* Control buttons */
.btn {
    background: var(--button-primary);
    border: none;
    padding: 8px 12px;
    border-radius: 20px;
    cursor: pointer;
    font-size: 14px;
    font-weight: 600;
    color: white;
    display: flex;
    align-items: center;
    gap: 4px;
    transition: all 0.2s ease;
    white-space: nowrap;
}

.btn:hover {
    background: var(--button-hover);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(255, 107, 157, 0.4);
}

.btn:active {
    transform: translateY(0);
}

.btn:focus-visible {
    outline: 3px solid var(--highlight);
    outline-offset: 2px;
}

.btn-secondary {
    background: white;
    color: var(--text);
    border: 2px solid var(--control-border);
}

.btn-secondary:hover {
    background: #f8f8f8;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

.zoom-level {
    font-size: 13px;
    font-weight: 600;
    color: var(--text);
    min-width: 45px;
    text-align: center;
}

/* Visual hint for draggable pages */
.page::after {
    content: '';
    position: absolute;
    bottom: 10px;
    right: 10px;
    width: 40px;
    height: 40px;
    background: linear-gradient(135deg, transparent 50%, rgba(0,0,0,0.05) 50%);
    pointer-events: none;
    opacity: 0.6;
    transition: opacity 0.3s ease;
}

.page:hover::after {
    opacity: 1;
}

/* Mobile styles */
@media (max-width: 768px) {
    .flipbook-container {
        padding: 0;
    }

    .top-right-controls {
        top: 12px;
        right: 12px;
        gap: 8px;
    }

    .info-btn,
    .fullscreen-btn {
        width: 40px;
        height: 40px;
        font-size: 18px;
    }

    .page-counter {
        bottom: 12px;
        right: 12px;
        font-size: 13px;
        padding: 8px 14px;
    }

    .info-panel {
        min-width: 160px;
        padding: 12px;
    }

    .btn {
        padding: 6px 10px;
        font-size: 13px;
    }

    .zoom-level {
        font-size: 12px;
        min-width: 40px;
    }

    /* Hide corner hint on mobile */
    .page::after {
        display: none;
    }
}

/* Landscape mobile mode */
@media (max-width: 926px) and (orientation: landscape) {
    body {
        overflow: hidden;
    }

    .flipbook-container {
        padding: 0;
    }

    .top-right-controls {
        top: 8px;
        right: 8px;
        gap: 6px;
    }

    .info-btn,
    .fullscreen-btn {
        width: 36px;
        height: 36px;
        font-size: 16px;
    }

    .page-counter {
        bottom: 8px;
        right: 8px;
        font-size: 12px;
        padding: 6px 12px;
    }
}

/* Accessibility: Prefers reduced motion */
@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
    :root {
        --control-border: #000;
        --text: #000;
    }

    .info-panel, .info-btn, .fullscreen-btn, .page-counter {
        border-width: 3px;
    }
}

/* Centered single page display */
.flipbook-centered {
    display: flex;
    justify-content: center !important;
}

/* Smooth page flip animations */
.animated {
    transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}
